"use strict";var Search=Search||{};(function(){Search={target:"container",init:function(l){var l=l||{};Search.target=l.target||Search.target;App.ajax({url:baseURL("job_list/filter_data.html"),ignoreState:true,hideLoading:true,success:function(m){$.extend(l,m);a(l)}})},renderTinyLayout:function(){a(g,"search-wraper-tiny")},getLayout:function(){return rDom(g)}};var a=function(l){l.wrapper=l.wrapper||"search-wraper-home";$("#"+Panels.header).html("");ReactDOM.render(rDom("div",{className:"search-wraper "+l.wrapper},rDom(g,l),rDom("div",{className:"clear"})),document.getElementById(Panels.header))};var g=React.createClass({render:function(){return rDom("div",{className:"search radius-0"},rDom("div",{className:"search-heading hidden-xs"},Locale.get("Search your favourite jobs")),rDom(d,this.props))}});var k=function(l){l.url=baseURL("job_search.html");l.caption=Locale.get("Search Result");JobList.render(l)};var d=React.createClass({getInitialState:function(){return{filterOpen:false}},handleSubmit:function(o){o.preventDefault();var p=this;var n=o.target;var m=$(o.target).serialize();m=App.serialize(m);m=m==""?"":"?"+m;var l=this.props.target||Panels.content;App.ajax({url:baseURL("job_search.html"+m),jumpTo:"#"+l,success:function(q){if(IS_MOBILE){$("#pnl-widget").hide()}q.listType="grid";q.target=Search.target;k(q)}})},onFilterClick:function(l){l.preventDefault();$("#jobSeachAdvanced").toggleClass("hidden")},jobSkills:function(){this.props.jobSkills.forEach(function(l){l.name=Locale.get(l.name+" skill")});return this.props.jobSkills},render:function(){var l=this.jobSkills();l.unshift({id:0,name:Locale.get("All Skill Levels")+"..."});this.props.jobCategories.unshift({id:0,category_name:Locale.get("All Job Categories")+"..."});this.props.jobLocations.unshift({id:0,location_name:Locale.get("All Locations")+".."});this.props.companyTypes.unshift({id:0,name:Locale.get("All Company Types")+"..."});this.props.jobSchedules.unshift({id:0,name:Locale.get("All Job Schedules")+"..."});return rDom("form",{method:"POST",onSubmit:this.handleSubmit,action:baseURL("search.html"),id:"frmHomeSearch"},rDom("input",{type:"hidden",value:new Date()}),rDom("div",{className:"row form-group-lg"},rDom("div",{className:"col-md-6 col-lg-6"},rDom(h)),rDom("div",{className:"col-md-3 col-lg-3"},rDom(c,{items:this.props.jobCategories})),rDom("div",{className:"col-md-3 col-lg-3"},rDom(f,{onFilterClick:this.onFilterClick}))),rDom("div",{className:"row hidden",id:"jobSeachAdvanced"},rDom("div",{className:"col-md-3 col-lg-3 form-group"},rDom(b,{items:this.props.jobLocations})),rDom("div",{className:"col-md-3 col-lg-3 form-group"},rDom(e,{items:this.props.companyTypes})),rDom("div",{className:"col-md-3 col-lg-3 form-group"},rDom(j,{items:this.props.jobSchedules})),rDom("div",{className:"col-md-3 col-lg-3 form-group"},rDom(i,{items:l}))))}});var h=React.createClass({render:function(){return rDom("div",{className:"form-group"},rDom("input",{type:"search",className:"form-control",id:"txt-home-search",name:"keyword",placeholder:Locale.get("Input your keywords or BTDC-ID")}))}});var c=React.createClass({render:function(){return rDom("div",{className:"form-group"},rDom(Control.select,{defaultValue:0,name:"category_id",className:"form-control",itemText:"category_name",items:this.props.items}))}});var f=React.createClass({render:function(){return rDom("div",{className:"btn-group btn-group-lg btn-group-block form-group"},rDom("input",{type:"submit",onClick:this.props.onClick,className:"button btn btn-primary",value:Locale.get("Search")}),rDom("button",{className:"icon btn btn-primary",onClick:this.props.onFilterClick},rDom("span",{className:"fa fa-filter"})))}});var b=React.createClass({render:function(){return rDom(Control.select,{defaultValue:0,name:"location_id",className:"form-control",itemText:"location_name",items:this.props.items})}});var e=React.createClass({render:function(){return rDom(Control.select,{defaultValue:0,name:"company_type_id",className:"form-control",items:this.props.items})}});var j=React.createClass({render:function(){return rDom(Control.select,{defaultValue:0,name:"schedule_id",className:"form-control",items:this.props.items})}});var i=React.createClass({render:function(){return rDom(Control.select,{defaultValue:0,name:"skill_level",className:"form-control",items:this.props.items})}})})();