"use strict";var Modal=Modal||{};(function(){var c=false;Modal.show=function(d){d=d||{};d.title=d.title||d.caption||"Title";d.body=d.content||d.body||"Body content goess here";d.key=Math.random();d.theme=d.theme||"bt-dialog";ReactDOM.render(rDom(a,d),document.getElementById("modal"));$("body").addClass("modal-open");$("#modal").modal()};Modal.hide=function(){$("body").removeClass("modal-open");$("#modal").modal("hide")};Modal.willHide=function(d){d=d||2000;var e=window.setTimeout(function(){window.clearTimeout(e);Modal.hide()},d)};Modal.loading={show:function(){var d=this;$("body").addClass("modal-open");$("#modalLoading").show();this.timer=window.setTimeout(function(){d.hide()},8000)},hide:function(d){$("body").removeClass("modal-open");$("#modalLoading").hide();window.clearTimeout(this.timer);if(String(d)!="undefined"){var e=window.setTimeout(function(){window.clearTimeout(e);d()},100)}}};Modal.loginRequired=function(d){d.title=d.title||Locale.get("Login Required");this.show({title:d.title,body:(rDom(b)),theme:"bt-modal modal-sm"})};var a=React.createClass({footer:function(){var d=this.props.footer||false;if(!d){return null}return Dom("div",{className:"modal-footer"},rDom("button",{type:"button",className:"btn","data-dismiss":"modal"},Locale.get("Close")))},render:function(){var d=this.props.fade||false;return rDom("div",{className:"modal-dialog "+this.props.theme,role:"document"},rDom("div",{className:"modal-content"},rDom("div",{className:"modal-header"},rDom("button",{type:"button",className:"close","data-dismiss":"modal"},rDom("span",{className:"fa fa-close"})),rDom("h4",{className:"modal-title"},this.props.title)),rDom("div",{className:"modal-body"},this.props.body),this.footer()))}});var b=React.createClass({render:function(){return rDom("div",null,rDom("p",null,Locale.get("msg_login_required")),rDom("a",{href:baseURL("login.html"),className:"btn btn-block btn-blue"},Locale.get("Login")))}})})();"use strict";var Header=Header||{};var Helper=Helper||{};Helper.loaded=false;(function(){Header.init=function(){ReactDOM.render(rDom(h),document.getElementById(Panels.mainNav));ReactDOM.render(rDom(l),document.getElementById(Panels.menuTop))};Header.show=function(){$("#menu-top").show();$("#mainNav").show();return this};Header.hide=function(){$("#menu-top").hide();$("#mainNav").hide();return this};Header.page={hide:function(){$("#header").hide();return Header},show:function(){$("#header").show();return Header}};var i={classified:baseURL("classified.html"),classifiedNew:"http://bongthom.com/membership/pgeLogin.asp?SID=&IDErr=3",about:baseURL("about_us.html"),login:baseURL("login.html"),signup:"https://secure.bongthom.com/membership/default.asp?SID={EE7EBD1B-6AF8-4A15-B574-046F7E09AE78}",supportTicket:"http://support.bongthom.com/",blog:"http://blog.bongthom.com/",cv:"https://secure.bongthom.com/membership/pgeLogin.asp?SID={8B79BF3E-E4E7-45FA-B17A-99B20D8E9C36}&IDErr=3",lengpleng:"http://www.lengpleng.com",khmerPhraseBook:"http://www.khmerphrasebook.com",appDownload:"#"};var j=React.createClass({render:function(){return rDom("div",{className:"navbar-header"},rDom("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#menu-header","aria-expanded":"false"},rDom("span",{className:"sr-only"},"Toggle"),rDom("span",{className:"icon-bar"}),rDom("span",{className:"icon-bar"}),rDom("span",{className:"icon-bar"})),rDom("a",{className:"navbar-brand",href:baseURL()}))}});var e=React.createClass({render:function(){return rDom("ul",{className:"nav navbar-nav navbar-left"},rDom("li",null,rDom("a",{href:baseURL()},Locale.get("Job List"))),rDom("li",null,rDom("a",{href:baseURL("job_category.html")},Locale.get("Job Category"))),rDom("li",null,rDom("a",{href:baseURL("company_list.html")},Locale.get("Company List"))),rDom("li",null,rDom("a",{href:baseURL("job_location.html")},Locale.get("Job Location"))))}});var d=React.createClass({render:function(){return rDom(Component.dropMenu,{dom:"li",withCaret:true,className:"pro",title:Locale.get("CLASSIFIED ADS"),items:[{href:i.classified,text:Locale.get("Classified List")},{href:i.classifiedNew,text:Locale.get("New Classified")}]})}});var g=React.createClass({render:function(){return rDom(Component.dropMenu,{dom:"li",withCaret:true,title:Locale.get("Others"),items:[{href:i.supportTicket,text:Locale.get("Customer Service Support")},{href:i.blog,text:Locale.get("Latest news & Videos Blog")},{href:i.cv,text:Locale.get("CV & Applications")},{type:"divider"},{href:i.lengpleng,target:"_blank",text:Locale.get("Live Music & DJ Events")},{href:i.khmerPhraseBook,target:"_blank",text:Locale.get("Khmer Phrase Book")}]})}});var h=React.createClass({render:function(){return rDom("div",{className:"container"},rDom(j),rDom("div",{className:"collapse navbar-collapse",id:"menu-header"},rDom(e),rDom("ul",{className:"nav navbar-nav navbar-right"},rDom(d),rDom(g))))}});var f={kh:{name:"english",text:"English"},en:{name:"khmer",text:"ភាសាខ្មែរ"}};var l=React.createClass({item:function(o){var n=o.href;var p=o.text;return rDom("li",null,rDom("a",{href:n},p))},memberItem:function(){if(LOGIN){return rDom(k)}else{return this.item({href:i.login,text:Locale.get("Members")})}},render:function(){return rDom("div",{className:"container"},rDom("ul",null,this.item({href:baseURL("about_us.html"),text:Locale.get("About Us")}),this.memberItem(),rDom(m)))}});var k=React.createClass({jobItems:function(n){var o=[];n.forEach(function(p){p.key=o.length;o.push(rDom(JobList.bigItemComp,p))});return rDom("ul",{className:"job-list thumb-list"},o)},getBMClick:function(n){n.preventDefault();var o=this;App.ajax({url:n.target.href,ignoreState:true,hideLoading:true,success:function(p){Modal.show({theme:"modal-lg",title:Locale.get("My Bookmarked Jobs"),body:rDom(JobList.bigListComp,{jobs:p})})}})},render:function(){return rDom(Component.dropMenu,{title:Locale.get("Account"),withCaret:true,dom:"li",alignRight:true,items:[{href:baseURL("account/bookmarked_jobs.html"),onClick:this.getBMClick,text:Locale.get("My Bookmarked Jobs")},{type:"divider"},{href:baseURL("signout.html"),text:Locale.get("Sign Out")}]})}});var m=React.createClass({getLang:function(){var n=f[LANG];return{text:n.text,href:baseURL("language/"+n.name+".html")}},items:function(){var o=this.getLang();var n=[{text:o.text,href:o.href},{type:"divider"},{type:"header",text:Locale.get("Job by Language")},{href:baseURL("set/job-language/0.html"),text:Locale.get("Any Language"),selected:JOB_LANG==0}];JOB_LANGS.forEach(function(p){n.push({href:baseURL("set/job-language/"+p.id+".html"),text:p.name.language(),selected:JOB_LANG==p.id})});return n},render:function(){return rDom(Component.dropMenu,{dom:"li",withCaret:true,alignRight:true,className:"icon",title:rDom("span",{className:"fa fa-gear"}),items:this.items()})}});var c=(ENV=="DEV"?"":"-min-"+VSN)+".js";script.helper={intro:RES_PATH+"js/introjs/intro.min.js",helper:RES_PATH+"js/frontend/helper"+c,msg:RES_PATH+"js/language/intro_"+LANG+c};var a=function(n){if(!Helper.loaded||ENV=="DEV"){loadScript(script.helper,function(){Helper.loaded=true;var o=window.setTimeout(n,function(){window.clearTimeout(o)},10)})}else{n()}};var b=React.createClass({handle:function(n,o){o.preventDefault();a(function(){Helper.start(n)})},notify:function(n){n.preventDefault();App.notify()},render:function(){var n={search:this.handle.bind(null,"jobSearch"),sort:this.handle.bind(null,"sort"),viewType:this.handle.bind(null,"viewType")};return rDom(Component.dropMenu,{dom:"li",className:"icon",alignRight:true,title:rDom("span",{className:"fa fa-question-circle"}),items:[{text:Locale.get("Searching Jobs"),href:"#",onClick:n.search},{text:Locale.get("Sort Listing"),href:"#",onClick:n.sort},{text:Locale.get("List View"),href:"#",onClick:n.viewType},{text:Locale.get("Test Notify"),href:"#",onClick:this.notify}]})}})})();"use strict";var Footer=Footer||{};(function(){Footer.init=function(){ReactDOM.render(React.createElement(a),document.getElementById(Panels.footer))};Footer.show=function(){$("#footer").show()};Footer.hide=function(){$("#footer").hide()};var c={contact:"http://bongthom.com/prefer/contacts.asp",support:"http://support.bongthom.com/",corpMember:"https://secure.bongthom.com/SecureLogin/pgeAccess.asp?SID={B42BD208-3AEA-4F1E-8CD9-EC3CDF457CBB}",fbJobs:"https://www.facebook.com/BongThomJobs/",fbClients:"https://www.facebook.com/BongThomJobsClients/",ytJobs:"https://www.youtube.com/channel/UCNzaInNVFSKrH-XljbfQ8gQ",ytClients:"https://www.youtube.com/channel/UCE7dXUYTZMH8BhPrqOsNTPg"};var b=React.createClass({render:function(){return rDom("li",null,rDom("a",{href:this.props.href},rDom("span",{className:"fa fa-"+this.props.icon}),this.props.text))}});var a=React.createClass({render:function(){var d=Locale.get("Copyright")+" © 2000 - "+(new Date()).getFullYear()+". "+Locale.get("Krawma Co.");d=LANG=="kh"?d.khmerDigit():d;return rDom("div",{className:"footer"},rDom("div",{className:"container"},rDom("div",null,rDom("div",{className:"col-md-3 col-lg-3 panel-body"},rDom("h3",null,Locale.get("About Us")),rDom("p",null,Locale.get("footer_about"))),rDom("div",{className:"col-md-3 col-lg-3 panel-body"},rDom("h3",null,Locale.get("Contact Us")),rDom("p",null,Locale.get("footer_address"))),rDom("div",{className:"col-col-3 col-lg-3 panel-body"},rDom("h3",null,Locale.get("Useful Links")),rDom("ul",{className:"no-list"},rDom(b,{href:baseURL("term_condition.html"),text:Locale.get("Terms and Conditions"),icon:"balance-scale"}),rDom(b,{href:c.support,text:Locale.get("Customer Service Support"),icon:"ticket"}),rDom(b,{href:c.corpMember,text:Locale.get("Corporate Member"),icon:"user"}))),rDom("div",{className:"col-md-3 col-lg-3 panel-body"},rDom("h3",null,Locale.get("Social Networks")),rDom("ul",{className:"no-list"},rDom(b,{href:c.fbJobs,text:Locale.get("Facebook Jobs"),icon:"facebook-square"}),rDom(b,{href:c.fbClients,text:Locale.get("Facebook HR Management"),icon:"facebook-square"}),rDom(b,{href:c.ytJobs,text:Locale.get("YouTube Jobs"),icon:"youtube-square"}),rDom(b,{href:c.ytClients,text:Locale.get("Youtube HR Management"),icon:"youtube-square"}))))),rDom("div",{className:"text-center",id:"footer-copyright"},d))}})})();"use strict";var JobList=JobList||{};var JobItem=JobItem||{};(function(){JobList.get=function(d){App.ajax({ignoreState:d.ignoreState,url:d.url,jumpTo:"#"+d.target,success:function(e){var f=d.url.split("?");e.target=d.target;e.caption=d.caption;e.url=f[0];e.omit=d.omit||[];JobList.render(e)}})};JobList.render=function(d){var d=this.initProps(d);$("#"+d.target).html("");ReactDOM.render(rDom(Component.bigList,d),document.getElementById(d.target))};JobList.initProps=function(e){var d={items:e.jobs,target:e.target||Panels.content,url:e.url,itemComponent:a,sortControl:c(e),numCols:e.numCols||2,key:Math.random(),itemField:"jobs",className:"job-list thumb-list",state:{keyword:e.keyword,companyTypeId:e.companyTypeId,categoryId:e.categoryId,scheduleId:e.scheduleId,locationId:e.locationId,orderBy:e.orderBy,orderDir:e.orderDir}};var d=$.extend(d,e);["jobs","totalJobs"].forEach(function(f){delete d[f]});return d};var b=React.createClass({render:function(){if(this.props.closingDate==null){return false}var d=this.props.closingDate.parseDate();if(!d){return null}return rDom("div",{title:Locale.get("Closing Date"),"data-toggle":"tooltip","data-placement":"bottom"},rDom("span",{className:"fa fa-calendar-times-o"}),d.shortDate(LANG))}});JobItem=function(g){var e=RES_PATH+"images/error_pic.gif";var h=g.job_logo||g.company_logo;h=h?(CDN_PATH+"clients/"+g.company_id+"/images/"+h):e;var f=g.is_new>0?" new":"";f=(g.order>0?" sticky":f).trim();var d=g.company_title||(g["company_"+LANG]||g.company_en);return{id:g.job_id,mark:f,logo:h,companyTitle:d.htmlDecode(),subDate:g.submit_date.parseDate(),closingDate:g.closing_date,url:baseURL("job_detail/"+g.job_title.cleanURL()+"_"+g.job_id+".html"),title:g.job_title.stripTags().htmlDecode(),bookmarkedComp:(g.bookmarked||false)?rDom("span",{title:Locale.get("Bookmarked Job"),className:"fa fa-bookmark"}):null,numView:g.num_view||1,companyURL:baseURL("company_detail/"+d.cleanURL()+"_"+g.company_id+".html")}};var a=React.createClass({onCompanyClick:function(f){f.preventDefault();var d=f.target;App.ajax({url:d.href,hideLoading:true,success:function(e){Modal.show({title:Locale.get("Company Information"),theme:"modal-lg",body:rDom("div",{dangerouslySetInnerHTML:{__html:e.detail}})})}})},render:function(){var d=JobItem(this.props);return rDom("li",{className:d.mark+" "+(this.props.numCols||"")},rDom("div",{className:"thumb clearfix"},rDom("img",{src:d.logo,title:d.title})),rDom("div",{className:"desc"},rDom("h5",{className:"title"},rDom("a",{href:d.url,title:d.title},d.title," ",d.bookmarkedComp)),rDom("a",{className:"ellipsis-text",href:d.companyURL,onClick:this.onCompanyClick},d.companyTitle.htmlDecode()),rDom("div",{className:"info"},rDom("div",null,rDom("span",{className:"fa fa-id-card-o"}),rDom("strong",null,d.id)),rDom("div",null,rDom("span",{className:"fa fa-clock-o"}),d.subDate.chrono(LANG)),rDom(b,{closingDate:d.closingDate}))),rDom("div",{className:"blank"}))}});JobList.bigListComp=React.createClass({items:function(){var d=[];var e=-this;this.props.jobs.forEach(function(f){f.key=d.length;d.push(rDom(a,f))});return d},render:function(){return rDom("ul",{className:"job-list thumb-list"},this.items())}});var c=function(e){var d=e.hideSortControl||false;if(d){return false}return{orderDir:e.orderDir,orderBy:e.orderBy,items:[{text:Locale.get("Announcement Title"),value:"job_title",icon:"alpha"},{text:Locale.get("BTDC-ID"),value:"id",icon:"numeric"},{text:Locale.get("Closing Date"),value:"closing_date"},{text:Locale.get("Posting Date"),value:"posted_date"}]}};JobList.itemComp=React.createClass({render:function(){var d=JobItem(this.props);return rDom("li",{className:"clearfix "+d.mark},rDom("div",{className:"thumb visible-sm visible-xs"},rDom("img",{src:d.logo,title:d.title})),rDom("div",{className:"desc"},rDom("h5",{className:"title"},rDom("a",{href:d.url,title:d.title},d.title," ",d.bookmarkedComp)),rDom("span",{className:"text-mute"},d.companyTitle),rDom("div",{className:"info"},rDom("div",null,rDom("span",{className:"fa fa-id-card-o"}),rDom("strong",null,d.id)),rDom("div",{className:"visible-xs visible-sm"},rDom("span",{className:"fa fa-clock-o"}),d.subDate.chrono(LANG)),rDom(b,{closingDate:d.closingDate}))))}})})();"use strict";var Paging=Paging||{};(function(){Paging=React.createClass({getProps:function(){var b={};b.selectedPage=parseInt(this.props.selectedPage||1);b.pageToShow=this.props.pageToShow||5;b.numPages=this.props.numPages||1;b.onPageClick=this.props.onPageClick||null;return b},getInitialState:function(){return{selectedPage:this.props.selectedPage||1}},items:function(j){var k=[];var b=Math.floor(j.pageToShow/2);var g=this;var h=j.selectedPage-b;h=h<1?1:h;var e=j.selectedPage+b;e=e>=j.numPages?j.numPages:e;var d=this.props.params||{};for(var f=h;f<=e;f++){k.push(this.item({index:f}))}if(j.numPages>j.selectedPage+b){k.push(this.item({index:f,text:rDom("span",{className:"fa fa-angle-double-right"})}))}if(j.selectedPage>(b+1)){var c=j.selectedPage-(b+1);k.unshift(this.item({index:c,text:rDom("span",{className:"fa fa-angle-double-left"})}))}return k},item:function(b){return rDom(a,{index:b.index,url:this.props.url||baseURL()||"#",key:b.index,text:b.text,onClick:this.props.onPageClick,params:this.props.params||{},selectedPage:this.props.selectedPage})},render:function(){var c=this.getProps();var b=this.items(c);if(b.length<=1){return null}return rDom("nav",{"aria-label":"Pagination"},rDom("ul",{className:"pagination"},this.items(c)))}});var a=React.createClass({url:function(){var c=$.extend({},(this.props.params||{}));c.page=this.props.index;var b=App.serialize(c);return this.props.url+(b==""?"":("?"+b))},render:function(){var c=this.props;var b=c.selectedPage==c.index?{className:"active"}:null;var e=null;var d=(c.text||c.index);d=LANG=="kh"?(isNaN(d)?d:String(d).khmerDigit()):d;if(this.props.onClick){e=this.props.onClick.bind(null,c.index)}return rDom("li",b,rDom("a",{href:this.url(),onClick:e},d))}})})();"use strict";var App=App||{};(function(){var c="modalLoading";var b=$("#pnlWrap");App.modal={show:function(){b.show();$("body").addClass("body-modal")},hide:function(){b.hide();$("body").removeClass("body-modal")}};App.siteLang=LANG;App.jobLangs=JOB_LANGS;App.jobLang=JOB_LANG;String.prototype.language=function(){var d="";switch(this.toLowerCase()){case"english":d="English";break;case"khmer":d="ភាសាខ្មែរ";break;case"chinese":d="中国";break;case"french":d="Français";break;default:d="N/A";break}return d};var a={isLoading:false,timeout:10000,handler:null,init:function(){var d=this;this.isLoading=true;this.handler=window.setTimeout(function(){if(d.isLoading){d.isLoading=false;window.clearTimeout(d.handler);$("body").removeClass("modal-open");$("#"+c).hide()}},this.timeout)},clear:function(){window.clearTimeout(this.handler);this.isLoading=false}};App.ajax=function(e){var d=e.hideLoading||false;e.type=e.type||"GET";e.data=e.data||{key:Math.random()};e.ignoreState=e.ignoreState||false;e.keepCaseOnResponse=e.keepCaseOnResponse||false;e.keepCaseOnSend=e.keepCaseOnSend||false;e.jumpTo=e.jumpTo||false;var f=e.state||{};f.title=f.title||document.title;f.url=e.url;e.data=e.keepCaseOnSend?e.data:this.serialize(e.data);delete e.data.key;var g=this;$.ajax({url:e.url,dataType:"JSON",data:e.data,type:e.type,beforeSend:function(){a.init();if(!d){$("body").addClass("modal-open");$("#"+c).show()}if(String(e.beforeSend)!="undefined"){e.beforeSend()}},success:function(h){a.clear();h=(e.keepCaseOnResponse||Array.isArray(h))?h:g.camelCase(h);h.key=Math.random();e.success(h);if(!d){$("body").removeClass("modal-open");$("#"+c).hide()}if(e.jumpTo){App.jumpTo(e.jumpTo)}if(!e.ignoreState){f.handler=function(){e.success(h)};History.pushState(f)}}})};App.jumpTo=function(d){$("html, body").animate({scrollTop:$(d).offset().top},300,function(){})};App.jumpToTop=function(){App.jumpTo("#"+Panels.mainNav)};App.jumpToContent=function(){App.jumpTo("#"+Panels.content)};$("a[data-jump-to]").bind("click",function(f){f.preventDefault();var d=f.target.dataset.jumpTo;App.jumpTo(d)});App.underscoreCase=function(f){var e={};for(var d in f){e[d.toUnderscoreCase()]=f[d]}return e};App.camelCase=function(f){var e={};for(var d in f){e[d.toCamelCase()]=f[d]}return e};App.serialize=function(j,g){g=g||{};j=(typeof j=="string")?j.deparam():j;var f=g.toObject||false;var e={};var h=g.omit||[];for(var d in j){var k=j[d]||false;if(k!=""&&k!=0&&k!="0"&&String(k)!="undefined"){e[d]=decodeURI(k)}}h.forEach(function(i){delete e[i]});e=this.underscoreCase(e);return f?e:$.param(e)};App.notify=function(){if(!("Notification" in window)){alert("This browser does not support desktop notification")}else{if(Notification.permission==="granted"){var d=new Notification("Hi there!")}else{if(Notification.permission!=="denied"){Notification.requestPermission(function(e){if(e==="granted"){var f=new Notification("Hi there!")}})}}}};App.exception=function(d){this.message=d;this.name="BT.Exception"};App.raiseEvent=function(e){var d=new CustomEvent(e.name,{detail:e,bubble:false});console.log(e);document.dispatchEvent(d)}})();"use strict";var Component=Component||{};(function(){Component.dropMenu=React.createClass({getProps:function(){var a={};a.theme="dropdown-"+(this.props.theme||"white");a.direction="drop"+(this.props.isUp?"up":"down");a.align=(this.props.alignRight||false)?" dropdown-menu-right":"";a.title=this.props.title||Locale.get("Dropdown");a.dom=this.props.dom||"div";a.className=this.props.className||"";a.withCaret=this.props.withCaret||false;return a},items:function(){var b=[];var c=0;var a=this.props.items||[];a.forEach(function(g){var f=g.type||"item";if(f==="seperator"||f==="divider"){b.push(rDom("li",{key:c++,className:"divider",role:"separator"}))}else{if(f=="header"){b.push(rDom("li",{key:c++,className:"dropdown-header"},g.text))}else{g.selected=g.selected||false;g.href=g.href||"#";var h=g.text;var e={key:c++};var d=g.icon||null;delete g.icon;delete g.text;e.className=g.selected?"active":null;if(d){b.push(rDom("li",e,rDom("a",g,rDom("span",{className:"fa fa-"+d})," ",h)))}else{b.push(rDom("li",e,rDom("a",g,h)))}}}});return b},render:function(){var a=this.getProps();var b=a.withCaret?rDom("span",{className:"caret"}):null;return rDom(a.dom,{className:a.direction+" "+a.theme+" "+a.className,id:this.props.id},rDom("a",{className:"dropdown-toggle","data-toggle":"dropdown",role:"button"},a.title,b),rDom("ul",{className:"dropdown-menu"+a.align},this.items()))}});Component.orderList=React.createClass({getInitialState:function(){return{orderBy:this.props.orderBy,orderDir:this.props.orderDir||"asc"}},onClick:function(a,b){b.preventDefault();this.setState({orderBy:a,orderDir:this.dirToggle(this.state.orderDir)});if(this.props.onChange){this.props.onChange({orderBy:a,orderDir:this.dirToggle(this.state.orderDir)},b)}},dirToggle:function(a){return a=="desc"?"asc":"desc"},items:function(){var c=["alpha","amount","numeric"];var a=[];var b=0;var d=this;this.props.items.forEach(function(f){var g=d.onClick.bind(null,f.value);f.icon=f.icon||"amount";var e={icon:"sort-"+f.icon+"-"+d.state.orderDir,text:f.text,selected:d.state.orderBy==f.value,onClick:g};a.push(e)});return a},render:function(){var b=this.props.className||"panel-control";var a=(this.props.align||"right")=="right";return rDom(Component.dropMenu,{title:rDom("span",{className:"fa fa-sort"}),className:b,alignRight:a,id:this.props.id,items:this.items()})}});Component.collapse=React.createClass({getProps:function(){var a=$.extend({id:this.props.id||"panel-"+parseInt(Math.random()*10000),className:this.props.className||"",collapsed:this.props.collapsed||false},this.props);return a},render:function(){var a=this.getProps();return rDom("div",{className:"panel panel-collapse "+this.props.className},rDom("div",{className:"panel-heading"},rDom("h4",{className:"panel-title"},rDom("a",{role:"button","data-toggle":"collapse",href:"#"+a.id},a.caption))),rDom("div",{className:"collapse"+(a.collapsed?"":" in"),id:a.id},a.body))}});Component.panel=React.createClass({header:function(){var a=this.props.title||false;if(!a){return null}return rDom("div",{className:"panel-heading"},rDom("h4",{className:"panel-title"},this.props.title))},render:function(){var a=this.props.panelClassName||"";return rDom("div",{className:"panel panel-default "+a},rDom("div",{className:this.props.className},this.props.body))}});Component.thumbnail=React.createClass({getProps:function(){return $.extend({caption:this.props.caption||Locale.get("Image")},this.props)},render:function(){var a=this.getProps();return rDom("div",{className:"thumbnail "+a.className},rDom("img",{src:a.imageURL,alt:a.caption}),rDom("div",{className:"caption"},rDom("h4",null,a.caption),rDom("p",null,a.desc+"..."),rDom("p",null,rDom("a",{href:a.url,target:"_blank"},Locale.get("Read more")+"..."))))}});Component.widget=React.createClass({getProps:function(){return $.extend({id:this.props.id||"panel-"+parseInt(Math.random()*10000),collapsed:this.props.collapsed||false},this.props)},render:function(){var a=this.getProps();return rDom("div",{className:"thumbnail "+a.className},rDom("a",{href:"#"+a.id,"data-toggle":"collapse"},rDom("img",{src:a.imageMobile,alt:a.caption,className:"visible-xs visible-sm"})),rDom("img",{src:a.imageURL,alt:a.caption,className:"visible-md visible-lg"}),rDom("div",{className:"caption collapse"+(a.collapsed?"":" in"),id:a.id,"aria-expanded":a.collapsed},rDom("h4",null,a.caption),rDom("p",null,a.desc+"..."),rDom("p",null,rDom("a",{href:a.url,target:"_blank"},Locale.get("Read more")+"..."))))}});Component.alert=React.createClass({icon:function(a){var a=a=="error"?"danger":a;switch(a.toLowerCase()){case"danger":return"times-circle";break;case"warning":return"exclamation-circle";break;case"info":return"info-circle";break;case"success":return"check-circle";break}},msg:function(){if(typeof(this.props.msg)=="string"){return rDom("em",null,this.props.msg)}else{return this.props.msg}},render:function(){var b=this.props.type||"danger";b=b=="error"?"danger":b;var a=this.icon(b);return rDom("div",{className:"alert alert-"+b+" clearfix"},rDom("div",{className:"icon fa fa-"+a}),rDom("div",{className:"msg"},rDom("strong",null,this.props.title),rDom("em",null,this.props.msg)))}});Component.inlineConfirm=React.createClass({onConfirm:function(a){console.log("fdafdasf")},getProps:function(){return $.extend({onConfirm:this.onConfirm,text:"",withCaret:false,icon:"trash",alignRight:false,textYes:Locale.get("Yes"),textNo:Locale.get("No")},this.props)},text:function(a){return rDom("span",null,rDom("span",{className:"fa fa-"+a.icon})," "+a.text)},render:function(){var a=this.getProps();return rDom(Component.dropMenu,{title:this.text(a),withCaret:a.withCaret,alignRight:a.alignRight,items:[{href:"#",text:a.textYes,onClick:a.onConfirm,icon:"check"},{href:"#",text:a.textNo,icon:"close"}]})}})})();"use strict";var Component=Component||{};(function(){Component.bigList=React.createClass({getInitialState:function(){this.wraperId="wraper-"+parseInt(Math.random()*10000);this.itemField=this.props.itemField||"items";this.omit=["items","key","listType"].concat(this.props.omit||[]);return $.extend(this.props.state||{},{key:Math.random(),items:this.props.items||[],page:this.props.page||1,listType:this.props.listType||"list"})},getProps:function(){var c={};c.id=this.props.id||parseInt(Math.random()*10000);c.caption=this.props.caption||Locale.get("List Caption");c.className="bt-list "+(this.props.className||"");return c},items:function(){var c=[];var g=this;var e=null;if(this.state.listType!="list"){var f=this.props.numCols||1;if(f>1){var d=parseInt(12/f);e=" col-md-"+d+" col-lg-"+d}}this.state.items.forEach(function(h){h.key=c.length;h.numCols=e;c.push(rDom(g.props.itemComponent,h))});return c},index:function(){var c=this.props.captionIndex||false;c=c?c:"";c=LANG=="kh"?c.toString().khmerDigit():c;return c?rDom("span",{className:"badge"},c):null},onSortChange:function(c,d){c.page=1;c=$.extend(this.state,c);this.loadItems(c)},sortControl:function(){var c=this.props.sortControl||false;if(!c){return null}c.orderBy=this.state.orderBy;c.orderDir=this.state.orderDir;c.onChange=this.onSortChange;c.key=Math.random();c.id="biglist-sort";return rDom(Component.orderList,c)},onListTypeChange:function(c,d){this.setState({listType:c.type})},listTypeComp:function(){if(this.props.numCols==1){return null}return rDom(a,{type:this.state.listType,onChange:this.onListTypeChange})},onPageClick:function(d,f){f.preventDefault();var c=$.extend({},this.state);c.page=d;this.loadItems(c)},paging:function(){var c=this.props.numPages||1;if(c<=1){return null}var d=$.extend({},this.state);this.omit.forEach(function(e){delete d[e]});delete d.page;return rDom(Paging,{selectedPage:this.state.page,numPages:c,onPageClick:this.onPageClick,params:d,url:this.props.url})},loadItems:function(d){d=App.serialize(d,{omit:this.omit});var c=this.props.url+(d==""?"":("?"+d));var e=this;App.ajax({url:c,jumpTo:"#"+e.wraperId,success:function(f){if(e.itemField!="items"){f.items=f[e.itemField];delete f[e.itemField]}e.setState(f)}})},caption:function(d){if(this.props.hideCaption||false){return null}var c=this.state.items.length>0?d.caption:Locale.get("No result found");return rDom("div",{className:"panel-heading",key:Math.random()},rDom("div",{className:"panel-title"},rDom("h1",null,c," ",this.index())),this.sortControl(),this.listTypeComp(),rDom("div",{className:"blank"}))},render:function(){var d=this.getProps();var c=this.props.indexValue||false;return rDom("section",{id:this.wraperId},rDom("div",{id:d.id,className:"panel panel-default big-list"},this.caption(d),rDom("ul",{className:d.className,key:Math.random()},this.items()),rDom("div",{className:"blank"})),this.paging())}});var b=React.createClass({render:function(){var c=this.props.items||[];if(c.length<=0){return null}return rDom(Component.orderList,{orderBy:this.props.orderBy,orderDir:this.props.orderDir,onChange:this.props.onChange,id:props.id,itemis:c})}});var a=React.createClass({getInitialState:function(){return{type:this.props.type||"list"}},onClick:function(f){f.preventDefault();var d=this.state.type=="list"?"grid":"list";var c=this.props.onChange||false;if(String(this.props.onChange)!="undefined"){this.props.onChange({type:d},f)}this.setState({type:d})},render:function(){var c=this.state.type=="grid"?"th-list":"th";return rDom("div",{className:"panel-control hidden-xs hidden-sm",id:"biglist-view"},rDom("a",{href:"#",onClick:this.onClick},rDom("span",{className:"fa fa-"+c})))}});Component.listGroup=React.createClass({componentDidMount:function(){document.addEventListener("onListChange",this.onListChange)},componentWillUnmount:function(){document.removeEventListener("onListChange",this.onListChange)},onListChange:function(f){var d=f.detail;var c=this.props.valueField||"id";var g=d.eventName==this.props.id?d[c]:-1;this.setState({value:g})},getInitialState:function(){return{items:this.props.items||[],caption:this.props.caption||Locale.get("List Item"),value:this.props.value||-1}},getProps:function(){var c={id:this.props.id,className:this.props.className,valueField:this.props.valueField||"id",textField:this.props.textField||"name",indexField:this.props.indexField||false};return c},onItemClick:function(d,f){d.eventName=this.props.id;var c=document.createEvent("CustomEvent");c.initCustomEvent("onListChange",true,true,{detail:d});document.dispatchEvent(c);if(this.props.onItemClick){this.props.onItemClick(d,f)}},item:function(h,g){var f=this.state.value==h[g.valueField]?" active":"";var c=null;if(g.indexField){var d=h[g.indexField]||"";d=LANG=="kh"?d.toString().khmerDigit():d;c=rDom("span",{className:"badge"},d)}var e=this.onItemClick.bind(null,h);return rDom("a",{className:"list-group-item"+f,key:Math.random(),href:(h.href||"#"),onClick:e},c,h[g.textField])},items:function(d){var c=[];var e=this;this.state.items.forEach(function(f){c.push(e.item(f,d))});return c},render:function(){var c=this.getProps();return rDom("div",{ref:"listGroup",className:"list-group "+c.className,id:c.id},this.items(c))}});Component.collapseList=React.createClass({getProps:function(){var c=this.props.collapsed||false;return $.extend({collapsed:c,id:this.props.id||"panel-"+parseInt(Math.random()*10000),className:"collapse"+(c?"":" in")},this.props)},caption:function(d){var c=this.props.icon||false;var e="";if(!c){return rDom("a",{role:"button","data-toggle":"collapse",href:"#"+d.id},d.caption)}else{return rDom("a",{role:"button","data-toggle":"collapse",href:"#"+d.id},rDom("span",{className:"fa fa-"+c})," ",d.caption)}},render:function(){var d=this.getProps();var c=this.caption(d);return rDom("div",{className:"panel panel-default panel-collapse"},rDom("div",{className:"panel-heading"},rDom("h4",{className:"panel-title"},c)),rDom(Component.listGroup,d))}})})();"use strict";var Control=Control||{};(function(){Control.select=React.createClass({items:function(d){var b=[];var a=this.props.itemText||this.props.textField||"name";var c=this.props.itemValue||this.props.valueField||"id";this.props.items.forEach(function(e){b.push(rDom("option",{key:b.length,value:e[c],},e[a]))});return b},onChange:function(d){var c=d.target;var a=c.selectedIndex;var b={value:c.value,text:c.options[a].text,selectedIndex:a,};if(String(this.props.onChange)!="undefined"){this.props.onChange(b,d)}},getProps:function(){var a=$.extend({defaultValue:this.props.defaultValue||0},this.props);delete a.itemText;delete a.textField;delete a.itemValue;delete a.valueField;delete a.items;a.onChange=this.onChange;return a},render:function(){var a=this.getProps();return rDom("select",a,this.items())}})})();